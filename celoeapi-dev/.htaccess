RewriteEngine On

# API routes - use custom api.php
RewriteCond %{REQUEST_URI} ^/api/
RewriteRule ^(.*)$ api.php/$1 [QSA,L]

# Regular routes - use index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [QSA,L]